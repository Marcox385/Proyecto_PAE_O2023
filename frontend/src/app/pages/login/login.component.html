<article>
<div class="container" id="container">
    <div class="form-container register-container">
      <form>
        <h1>Registrate aquí</h1>
        <div class="form-control">
          <input type="text" id="username" placeholder="Nombre" required>
          <small id="username-error"></small>
          <span></span>
        </div>
        <div class="form-control">
          <input type="email" id="email" placeholder="Email" required>
          <small id="email-error"></small>
          <span></span>
        </div>
        <div class="form-control">
          <input type="password" id="password" placeholder="Contraseña" required>
          <small id="password-error"></small>
          <span></span>
        </div>
        <div class="form-control">
          <input type="password" id="password" placeholder="Teléfono" required>
          <small id="password-error"></small>
          <span></span>
        </div>
        <button type="submit" value="submit">Registrarse</button>
        <span>o... usa tu cuenta</span>
        <div class="social-container">
          <a href="#" class="social"><i class="fa-brands fa-facebook-f"></i></a>
          <a href="#" class="social"><i class="fa-brands fa-google"></i></a>
          <a href="#" class="social"><i class="fa-brands fa-linkedin"></i></a>
        </div>
      </form>
    </div>

    <div class="form-container login-container">
      <form class="form-lg">
        <h1>Accede aquí</h1>
        <div class="form-control2">
          <input type="email" class="email-2" placeholder="Email" required>
          <small class="email-error-2"></small>
          <span></span>
        </div>
        <div class="form-control2">
          <input type="password" class="password-2" placeholder="Contraseña" required>
          <small class="password-error-2"></small>
          <span></span>
        </div>

        <div class="content">
          <div class="checkbox">
            <input type="checkbox" name="checkbox" id="checkbox" />
            <label for="">Recuerdame</label>
          </div>
          <div class="pass-link">
            <a href="#">Olvidé mi contraseña</a>
          </div>
        </div>
        <button type="submit" value="submit">Login</button>
        <span>o... registrate</span>
        <div class="social-container">
          <a href="#" class="social"><i class="fa-brands fa-facebook-f"></i></a>
          <a href="#" class="social"><i class="fa-brands fa-google"></i></a>
          <a href="#" class="social"><i class="fa-brands fa-linkedin"></i></a>
        </div>
      </form>
    </div>

    <div class="overlay-container">
      <div class="overlay">
        <div class="overlay-panel overlay-left">
          <h1 class="title">
            Hola <br />
            amigos
          </h1>
          <p>Si tienes una cuenta, accede desde aquí</p>
          <button class="ghost" id="login">
            Login
            <i class="fa-solid fa-arrow-left"></i>
          </button>
        </div>

        <div class="overlay-panel overlay-right">
          <h1 class="title">
            Empieza a <br />
            aprender ahora
          </h1>
          <p>
            Si no tienes una cuenta, registrate y empiza a aprender
          </p>
          <button class="ghost" id="register">
            Registrarse
            <i class="fa-solid fa-arrow-right"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</article>

<script>
  // Animations
const registerButton = document.getElementById("register");
const loginButton = document.getElementById("login");
const container = document.getElementById("container");

registerButton.addEventListener("click", () => {
    container.classList.add("right-panel-active");
});

loginButton.addEventListener("click", () => {
    container.classList.remove("right-panel-active");
});


// Check Register Errorx
const form = document.querySelector('form')
const username = document.getElementById('username')
const usernameError = document.querySelector("#username-error")
const email = document.getElementById('email')
const emailError = document.querySelector("#email-error")
const password = document.getElementById('password')
const passwordError = document.querySelector("#password-error")

// Show input error message
function showError(input, message) {
    const formControl = input.parentElement
    formControl.className = 'form-control error'
    const small = formControl.querySelector('small')
    small.innerText = message
}

// Show success outline
function showSuccess(input) {
    const formControl = input.parentElement
    formControl.className = 'form-control success'
    const small = formControl.querySelector('small')
    small.innerText = ''
}

// Check email is valid
function checkEmail(email) {
    const emailRegex = /^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;
    return emailRegex.test(email);
}

email.addEventListener("input", function () {
    if (!checkEmail(email.value)) {
        emailError.textContent = "*Email is not valid"
    } else {
        emailError.textContent = "";
    }
})

// Check length input user name
username.addEventListener("input", function () {
    if (username.value.length < 4) {
        usernameError.textContent = "*Username must be at least 8 characters."
    } else if (username.value.length > 20) {
        usernameError.textContent = "*Username must be less than 20 characters.";
    } else {
        usernameError.textContent = "";
    }
})

// Check length input password
password.addEventListener("input", function () {
    if (password.value.length < 8) {
        passwordError.textContent = "*Password must be at least 8 characters."
    } else if (password.value.length > 20) {
        passwordError.textContent = "*Password must be less than 20 characters."
    } else {
        passwordError.textContent = "";
    }
})


// Check required fields
function checkRequired(inputArr) {
    let isRequired = false
    inputArr.forEach(function (input) {
        if (input.value.trim() === '') {
            showError(input, `*${getFieldName(input)} is required`)
            isRequired = true
        } else {
            showSuccess(input)
        }
    })

    return isRequired
}

// Get fieldname
function getFieldName(input) {
    return input.id.charAt(0).toUpperCase() + input.id.slice(1)
}

// Event listeners
form.addEventListener('submit', function (e) {
    e.preventDefault()

    if (!checkRequired([username, email, password])) {
        // checkLength(username, 3, 15)
        // checkLength(password, 6, 25)
        // checkEmail(email)
    }
})

// Check Login Error

let lgForm = document.querySelector('.form-lg')
let lgEmail = document.querySelector('.email-2')
let lgEmailError = document.querySelector(".email-error-2")
let lgPassword = document.querySelector('.password-2')
let lgPasswordError = document.querySelector(".password-error-2")

function showError2(input, message) {
    const formControl2 = input.parentElement
    formControl2.className = 'form-control2 error'
    const small2 = formControl2.querySelector('small')
    small2.innerText = message
}

function showSuccess2(input) {
    const formControl2 = input.parentElement
    formControl2.className = 'form-control2 success'
    const small2 = formControl2.querySelector('small')
    small2.innerText = '';
}

// Check email is valid
function checkEmail2(lgEmail) {
    const emailRegex2 = /^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/;
    return emailRegex2.test(lgEmail);
}

lgEmail.addEventListener("input", function () {
    if (!checkEmail2(lgEmail.value)) {
        lgEmailError.textContent = "*Email is not valid"
    } else {
        lgEmailError.textContent = "";
    }
})

// Check length input passwrod
lgPassword.addEventListener("input", function () {
    if (lgPassword.value.length < 8) {
        lgPasswordError.textContent = "*Password must be at least 8 characters."
    } else if (lgPassword.value.length > 20) {
        lgPasswordError.textContent = "*Password must be less than 20 characters."
    } else {
        lgPasswordError.textContent = "";
    }
})

function checkRequiredLg(inputArr2) {
    let isRequiredLg = false
    inputArr2.forEach(function (input) {
        if (input.value.trim() === '') {
            showError2(input, `*${getFieldNameLg(input)} Please enter your information in this field`)
            isRequiredLg = true
        } else {
            showSuccess2(input)
        }
    })

    return isRequiredLg
}

function getFieldNameLg(input) {
    return input.id.charAt(0).toUpperCase() + input.id.slice(1)
}

lgForm.addEventListener('submit', function (e) {
    e.preventDefault()

    if (!checkRequiredLg([lgEmail, lgPassword])) {
        checkEmail2(lgEmail)
    }
})


</script>
  